<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriScan AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Outfit', sans-serif; }
        .blob { position: absolute; filter: blur(40px); z-index: -1; opacity: 0.6; animation: float 10s infinite ease-in-out; }
        @keyframes float { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(20px, -20px); } }
        .pop-in { animation: pop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        @keyframes pop { 0% { transform: scale(0); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body class="bg-slate-50 h-screen flex flex-col items-center justify-center overflow-hidden relative">

    <div class="blob bg-emerald-300 w-96 h-96 rounded-full top-0 left-0 -translate-x-1/2 -translate-y-1/2"></div>
    <div class="blob bg-teal-300 w-80 h-80 rounded-full bottom-0 right-0 translate-x-1/3 translate-y-1/3 animation-delay-2000"></div>

    <div id="loader" class="fixed inset-0 bg-white/90 backdrop-blur-md z-50 hidden flex flex-col items-center justify-center transition-all">
        <div class="relative">
            <div class="animate-spin rounded-full h-20 w-20 border-b-4 border-emerald-500"></div>
            <div class="absolute inset-0 flex items-center justify-center text-2xl">üçé</div>
        </div>
        <p class="mt-6 text-emerald-800 font-bold text-lg animate-pulse">Analyse IA en cours...</p>
    </div>

    <div class="bg-white/80 backdrop-blur-xl p-10 rounded-3xl shadow-2xl w-full max-w-lg border border-white/50 relative transform transition-all hover:shadow-emerald-100/50">
        <div class="text-center mb-10">
            <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-tr from-emerald-400 to-teal-500 rounded-2xl shadow-lg mb-6 rotate-3">
                <span class="text-4xl">ü•ó</span>
            </div>
            <h1 class="text-4xl font-bold text-slate-800 mb-2 tracking-tight">NutriScan <span class="text-emerald-600">AI</span></h1>
            <p class="text-slate-500 text-lg">Votre expert nutritionnel personnel</p>
        </div>
        
        <form method="post" enctype="multipart/form-data" onsubmit="document.getElementById('loader').classList.remove('hidden')">
            <div class="relative group">
                <input type="file" id="fileInput" name="file" accept="image/*" required 
                       class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"
                       onchange="handleFileSelect(this)">
                
                <div id="drop-zone" class="border-3 border-dashed border-slate-300 rounded-2xl p-10 transition-all duration-300 group-hover:border-emerald-400 group-hover:bg-emerald-50/50 flex flex-col items-center justify-center min-h-[250px] bg-slate-50">
                    
                    <div id="default-content" class="text-center transition-all duration-300">
                        <div class="bg-white p-4 rounded-full shadow-sm mb-4 inline-block group-hover:scale-110 transition-transform">
                            <svg class="w-10 h-10 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                        </div>
                        <p class="text-slate-700 font-medium text-lg">Glissez votre photo ici</p>
                        <p class="text-slate-400 text-sm mt-1">ou cliquez pour parcourir</p>
                    </div>

                    <div id="success-content" class="hidden flex-col items-center w-full h-full absolute inset-0 bg-white rounded-2xl overflow-hidden">
                        <img id="preview-img" class="w-full h-full object-cover opacity-90 blur-sm scale-105" src="">
                        <div class="absolute inset-0 bg-black/30 flex flex-col items-center justify-center backdrop-blur-sm">
                            <div class="bg-emerald-500 text-white rounded-full p-3 shadow-lg pop-in mb-2">
                                <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                            </div>
                            <p class="text-white font-bold text-lg drop-shadow-md pop-in">Pr√™t √† analyser !</p>
                            <p class="text-white/80 text-sm mt-1 pop-in" id="filename">image.jpg</p>
                        </div>
                    </div>
                </div>
            </div>

            <button type="submit" id="submit-btn" class="w-full mt-6 bg-slate-800 text-white py-4 rounded-xl font-bold text-lg shadow-xl hover:bg-emerald-600 hover:shadow-emerald-200/50 transition-all duration-300 transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                Lancer l'analyse
            </button>
        </form>
    </div>

    <script>
        function handleFileSelect(input) {
            const dropZone = document.getElementById('drop-zone');
            const defaultContent = document.getElementById('default-content');
            const successContent = document.getElementById('success-content');
            const previewImg = document.getElementById('preview-img');
            const submitBtn = document.getElementById('submit-btn');
            const filename = document.getElementById('filename');

            if (input.files && input.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    previewImg.src = e.target.result;
                    defaultContent.classList.add('opacity-0', 'scale-90');
                    
                    setTimeout(() => {
                        dropZone.classList.remove('border-dashed', 'bg-slate-50');
                        dropZone.classList.add('border-solid', 'border-emerald-500');
                        successContent.classList.remove('hidden');
                        successContent.classList.add('flex');
                        filename.textContent = input.files[0].name;
                        
                        submitBtn.disabled = false;
                        submitBtn.classList.add('bg-emerald-600');
                        submitBtn.classList.remove('bg-slate-800');
                    }, 200);
                }
                
                reader.readAsDataURL(input.files[0]);
            }
        }
    </script>
</body>
</html>